//-
    | DESCRIPTION: Main view(Home Page)
    | WORKING: Get the result object from the index.js
    | and loop through it to display our grid boxes
    | TODO: lots of bug fixes and design improvments


extends layout

// function(mixin) grid
mixin grid(box)
    .profile-display
        img(src='images/me.jpg').img-circle.profile-pic
        small.name #{box.author}
        small.date #{box.date}
    .clear
    if(typeof(box.title) !== 'undefined')
        strong #{box.title}
    if(typeof(box.article_image) !== 'undefined')
        .imgholder
            img(src='#{box.article_image[0]}' ,alt="").img-rounded
    else
        .imgholder
            img(src="http://www.inwebson.com/demo/blocksit-js/demo2/images/img23.jpg")
    strongs
    p #{box.content}
    .inputs
        button(type="button").btn.btn-success.clickable Share
        button(type="button").btn.btn-warning Share
        button(type="button").btn.btn-primary Comment



//-
    | call the function grid using +gride(box)
    | box_obj is the object contaning all the post
    | value of result is passed into box_obj from index.js

block prepend content
    #container-grid
        each box in box_obj
            div(id=box._id).grid
                +grid(box)
